<Page x:Class="GlowBook.Wpf.Views.Pages.AppointmentsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="clr-namespace:GlowBook.Wpf.ViewModels">

    <Page.DataContext>
        <vm:AppointmentsViewModel/>
    </Page.DataContext>


    <DockPanel Margin="16">
        
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
            <TextBlock Text="Van:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <DatePicker SelectedDate="{Binding From}" Margin="0,0,16,0"/>
            <TextBlock Text="Tot:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <DatePicker SelectedDate="{Binding To}" Margin="0,0,16,0"/>

            <Button Content="Nieuw"  Click="New_Click"  Margin="0,0,16,0"/>
            <Button Content="Vernieuwen" Click="Reload_Click" Margin="0,0,16,0"/>
            <Button Content="Wijzig..."  Click="Edit_Click"/>
        </StackPanel>

        
        <DataGrid x:Name="Grid"
                  ItemsSource="{Binding Items}"
                  SelectedItem="{Binding Selected}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  Margin="0,8,0,0">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Datum"   Binding="{Binding Start, StringFormat=\{0:dd/MM HH:mm\}}" Width="160"/>
                <DataGridTextColumn Header="Einde"   Binding="{Binding End,   StringFormat=\{0:HH:mm\}}"       Width="80"/>
                <DataGridTextColumn Header="Klant"   Binding="{Binding Customer.Name}" Width="*"/>
                <DataGridTextColumn Header="Medewerker" Binding="{Binding Staff.Name}" Width="*"/>
                <DataGridTextColumn Header="Dienst"  Binding="{Binding AppointmentServices[0].Service.Name}" Width="2*"/>
                <DataGridTextColumn Header="Status"  Binding="{Binding Status}" Width="120"/>
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</Page>
